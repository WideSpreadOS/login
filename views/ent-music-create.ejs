

<style>
    button {
        width: 50px;
        height: 50px;
        background: rgba(135, 206, 250, 0.3);
        border-top-left-radius: 8px;
        border-top-right-radius: 8px;
    }
    .controls {
	max-width: var(--ui-width);
	margin: 0 auto;
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
}
.controls-box {
	display: flex;
	flex-direction: column;
	margin-bottom: var(--gap-y);
}
.controls [type='radio'] {
	display: none;
}
.controls [type='radio'] + label {
	display: inline-block;
}
.controls [type='radio']:checked + label {
	color: var(--accent);
}
.controls .range {
	display: flex;
}
.controls .range label {
	display: inline-block;
	min-width: 8ch;
}
.controls .range input {
	width: 100%;
}

.error {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	display: none;
	align-items: center;
	justify-content: center;
	background: rgba(0, 0, 0, 0.7);
	backdrop-filter: blur(5px);
	-webkit-backdrop-filter: blur(5px);
	z-index: 10;
}
.error[open] {
	display: flex;
}

.keyboard {
	position: relative;
	display: flex;
	justify-items: stretch;
	max-width: var(--ui-width);
	margin: auto;
	user-select: none;
}
.keyboard button {
	display: flex;
	justify-content: center;
	align-items: flex-end;
	padding-bottom: 1rem;
	font-family: 'Press Start 2P', cursive;
	border: 1px solid black;
	font-size: 0;
}
.keyboard button.white {
	flex: 1 0 calc(100% / 12);
	max-height: 50vw;
	height: 18rem;
	background-color: white;
	color: grey;
	margin: 0 2px;
}
.keyboard button.white + button.white {
	margin-left: -4px;
}
.keyboard button.white:focus:not(.active) {
	background: orchid;
	outline: none;
}
.keyboard button.black {
	flex: 1 0 calc(100% / 12 * 0.4);
	max-height: 30vw;
	height: 11rem;
	margin-left: calc(100% / 12 * -0.5 - 4px);
	margin-right: calc(100% / 12 * -0.5 - 4px);
	z-index: 1;
	background-color: black;
	color: darkgrey;
}
.keyboard button.black:focus:not(.active) {
	background: darkorchid;
	outline: none;
}
.keyboard button.active {
	background: linear-gradient(160deg, var(--bg) -150%, var(--accent) 100%);
	color: var(--bg);
	outline: none;
}

footer {

}

@media (min-width: 768px) {
	.keyboard button {
		font-size: 1.2em;
	}
}

</style>

<div class="page-title">
    <hh5>Create Music</h5>
</div>



<div class="dj-board">
    <form class="controls">
        <div class="controls-box">
            <input
                type="radio"
                id="waveform-sine"
                name="waveform"
                value="sine"
                checked
            />
            <label for="waveform-sine">Sine</label>

            <input
                type="radio"
                id="waveform-square"
                name="waveform"
                value="square"
            />
            <label for="waveform-square">Square</label>

            <input
                type="radio"
                id="waveform-triangle"
                name="waveform"
                value="triangle"
            />
            <label for="waveform-triangle">Triangle</label>

            <input
                type="radio"
                id="waveform-sawtooth"
                name="waveform"
                value="sawtooth"
            />
            <label for="waveform-sawtooth">Sawtooth</label>
        </div>

        <div class="controls-box">
            <div class="range">
                <label for="pitch">Pitch</label>
                <input
                    name="pitch"
                    id="pitch"
                    type="range"
                    data-control-name="pitch"
                    min="-1"
                    max="8"
                    value="3"
                />
            </div>

            <div class="range">
                <label for="attack">Attack</label>
                <input
                    name="attack"
                    id="attack"
                    type="range"
                    data-control-name="attack"
                    min="0"
                    max="2"
                    step="0.05"
                    value="0"
                />
            </div>

            <div class="range">
                <label for="decay">Decay</label>
                <input
                    name="decay"
                    id="decay"
                    type="range"
                    data-control-name="decay"
                    min="0"
                    max="5"
                    step="0.1"
                    value="0"
                />
            </div>

            <div class="range">
                <label for="sustain">Sustain</label>
                <input
                    name="sustain"
                    id="sustain"
                    type="range"
                    data-control-name="sustain"
                    min="0"
                    max="100"
                    value="50"
                />
            </div>

            <div class="range">
                <label for="release">Release</label>
                <input
                    name="release"
                    id="release"
                    type="range"
                    data-control-name="release"
                    min="0"
                    max="10"
                    step="0.1"
                    value="0"
                />
            </div>
        </div>
    </form>


    <section class="keyboard">
        <button class="white" data-note="c" label="C">
            <key>A</key>
        </button>
        <button class="black" data-note="cs" label="C sharp">
            <key>W</key>
        </button>
        <button class="white" data-note="d" label="D"><key>S</key></button>
        <button class="black" data-note="eb" label="E sharp">
            <key>E</key>
        </button>
        <button class="white" data-note="e" label="E"><key>D</key></button>
        <button class="white" data-note="f" label="F"><key>F</key></button>
        <button class="black" data-note="fs" label="F sharp">
            <key>T</key>
        </button>
        <button class="white" data-note="g" label="G"><key>G</key></button>
        <button class="black" data-note="gs" label="G sharp">
            <key>Y</key>
        </button>
        <button class="white" data-note="a" label="A"><key>H</key></button>
        <button class="black" data-note="bb" label="A sharp">
            <key>U</key>
        </button>
        <button class="white" data-note="b" label="B"><key>J</key></button>
        <button class="white" data-note="c2" label="C2">
            <key>K</key>
        </button>
    </section>

</div>

<script src="/js/synthisizer/freqs.js"></script>
<script src="/js/synthisizer/keys.js"></script>
<script defer src="/js/synthisizer/synthisizer.js"></script>